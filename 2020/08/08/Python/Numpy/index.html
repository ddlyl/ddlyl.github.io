<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"luyilin.top","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="12import numpy as npnp.__version__     &amp;apos;1.15.1&amp;apos;python 中的数据类型 动态类型  每一个 Python 对象都是一个聪明的伪 C 语言结构体，该结构体不仅包含其值，还有其他信息。例如，当我们在 Python 中定义一个整型，例如 x &#x3D; 10000 时，x 并不是一个“原生”整型，而是一个指针，指向一个 C 语言的复合结构体，">
<meta property="og:type" content="article">
<meta property="og:title" content="Python&#x2F;Numpy">
<meta property="og:url" content="http://luyilin.top/2020/08/08/Python/Numpy/index.html">
<meta property="og:site_name" content="引而不发，跃如也">
<meta property="og:description" content="12import numpy as npnp.__version__     &amp;apos;1.15.1&amp;apos;python 中的数据类型 动态类型  每一个 Python 对象都是一个聪明的伪 C 语言结构体，该结构体不仅包含其值，还有其他信息。例如，当我们在 Python 中定义一个整型，例如 x &#x3D; 10000 时，x 并不是一个“原生”整型，而是一个指针，指向一个 C 语言的复合结构体，">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://luyilin.top/2020/08/08/Python/Numpy/output_149_0.png">
<meta property="og:image" content="http://luyilin.top/2020/08/08/Python/Numpy/output_151_0.png">
<meta property="article:published_time" content="2020-08-08T07:03:28.012Z">
<meta property="article:modified_time" content="2020-08-08T07:02:28.000Z">
<meta property="article:author" content="luyilin">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://luyilin.top/2020/08/08/Python/Numpy/output_149_0.png">

<link rel="canonical" href="http://luyilin.top/2020/08/08/Python/Numpy/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>Python/Numpy | 引而不发，跃如也</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">引而不发，跃如也</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://luyilin.top/2020/08/08/Python/Numpy/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="luyilin">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="引而不发，跃如也">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Python/Numpy
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-08-08 15:03:28 / Modified: 15:02:28" itemprop="dateCreated datePublished" datetime="2020-08-08T15:03:28+08:00">2020-08-08</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">np.__version__</span><br></pre></td></tr></table></figure>




<pre><code>&apos;1.15.1&apos;</code></pre><h1 id="python-中的数据类型"><a href="#python-中的数据类型" class="headerlink" title="python 中的数据类型"></a>python 中的数据类型</h1><ul>
<li>动态类型</li>
</ul>
<p>每一个 Python 对象都是一个聪明的伪 C 语言结构体，该结构体不仅包含其值，还有其他信息。例如，当我们在 Python 中定义一个整型，例如 x = 10000 时，x 并不是一个“原生”整型，而是一个指针，指向一个 C 语言的复合结构体，结构体里包含了一些值。</p>
<p>Python 3.4 中的一个整型实际上包括 4 个部分。</p>
<ol>
<li>ob_refcnt 是一个引用计数，它帮助 Python 默默地处理内存的分配和回收。</li>
<li>ob_type 将变量的类型编码。</li>
<li>ob_size 指定接下来的数据成员的大小。</li>
<li>ob_digit 包含我们希望 Python 变量表示的实际整型值。</li>
</ol>
<p>Python 的整型其实是一个指针，指向包含这个 Python 对象所有信息的某个内存位置，其中包括可以转换成整型的字节。</p>
<h2 id="列表与数组"><a href="#列表与数组" class="headerlink" title="列表与数组"></a>列表与数组</h2><p>数组基本上包含一个指向连续数据块的指针。Python 列表包含一个指向指针块的指针，这其中的每一个指针对应一个完整的 Python 对象。</p>
<h1 id="创建NumPy数组"><a href="#创建NumPy数组" class="headerlink" title="创建NumPy数组"></a>创建NumPy数组</h1><h2 id="从列表创建时数组"><a href="#从列表创建时数组" class="headerlink" title="从列表创建时数组"></a>从列表创建时数组</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.array([<span class="number">1</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">5</span>,<span class="number">3</span>])</span><br></pre></td></tr></table></figure>




<pre><code>array([1, 4, 2, 5, 3])</code></pre><ul>
<li>numpy的数组必须包含同一数据类型</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.array([<span class="number">1</span>,<span class="number">3.14</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>])</span><br></pre></td></tr></table></figure>




<pre><code>array([1.  , 3.14, 2.  , 3.  , 5.  ])</code></pre><ul>
<li>设置数据类型</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], dtype=<span class="string">'float32'</span>)</span><br></pre></td></tr></table></figure>




<pre><code>array([1., 2., 3., 4.], dtype=float32)</code></pre><ul>
<li>多维数组</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.array([range(i, i+ <span class="number">3</span>) <span class="keyword">for</span> i <span class="keyword">in</span> [<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>]])</span><br></pre></td></tr></table></figure>




<pre><code>array([[2, 3, 4],
       [4, 5, 6],
       [6, 7, 8]])</code></pre><h2 id="从头创建数组"><a href="#从头创建数组" class="headerlink" title="从头创建数组"></a>从头创建数组</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建一个长度为10的数组，数组的值都是0</span></span><br><span class="line">np.zeros(<span class="number">10</span>, dtype=int)</span><br></pre></td></tr></table></figure>




<pre><code>array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建一个3×5的浮点型数组，数组的值都是1</span></span><br><span class="line">np.ones((<span class="number">3</span>, <span class="number">5</span>), dtype=float)</span><br></pre></td></tr></table></figure>




<pre><code>array([[1., 1., 1., 1., 1.],
       [1., 1., 1., 1., 1.],
       [1., 1., 1., 1., 1.]])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建一个3×5的浮点型数组，数组的值都是3.14</span></span><br><span class="line">np.full((<span class="number">3</span>, <span class="number">5</span>), <span class="number">3.14</span>)</span><br></pre></td></tr></table></figure>




<pre><code>array([[3.14, 3.14, 3.14, 3.14, 3.14],
       [3.14, 3.14, 3.14, 3.14, 3.14],
       [3.14, 3.14, 3.14, 3.14, 3.14]])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建一个线性序列数组</span></span><br><span class="line"><span class="comment"># 从0开始，到20结束，步长为2</span></span><br><span class="line"><span class="comment"># （它和内置的range()函数类似）</span></span><br><span class="line">np.arange(<span class="number">0</span>, <span class="number">20</span>, <span class="number">2</span>)</span><br></pre></td></tr></table></figure>




<pre><code>array([ 0,  2,  4,  6,  8, 10, 12, 14, 16, 18])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建一个5个元素的数组，这5个数均匀地分配到0~1</span></span><br><span class="line">np.linspace(<span class="number">0</span>, <span class="number">1</span>, <span class="number">5</span>)</span><br></pre></td></tr></table></figure>




<pre><code>array([0.  , 0.25, 0.5 , 0.75, 1.  ])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建一个3×3的、在0~1均匀分布的随机数组成的数组</span></span><br><span class="line">np.random.random((<span class="number">3</span>, <span class="number">3</span>))</span><br></pre></td></tr></table></figure>




<pre><code>array([[0.49386296, 0.03091395, 0.63736667],
       [0.26917584, 0.75625911, 0.63322542],
       [0.49350228, 0.7378019 , 0.05978184]])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建一个3×3的、均值为0、标准差为1的</span></span><br><span class="line"><span class="comment"># 正态分布的随机数数组</span></span><br><span class="line">np.random.normal(<span class="number">0</span>, <span class="number">1</span>, (<span class="number">3</span>, <span class="number">3</span>))</span><br></pre></td></tr></table></figure>




<pre><code>array([[-1.93643725,  0.77082268,  0.02398928],
       [ 0.19744958, -0.11037934, -2.29430912],
       [-0.10966178, -1.58837058,  0.04196946]])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建一个3×3的、[0, 10)区间的随机整型数组</span></span><br><span class="line">np.random.randint(<span class="number">0</span>, <span class="number">10</span>, (<span class="number">3</span>, <span class="number">3</span>))</span><br></pre></td></tr></table></figure>




<pre><code>array([[8, 1, 2],
       [8, 9, 5],
       [2, 2, 7]])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建一个3×3的单位矩阵</span></span><br><span class="line">np.eye(<span class="number">3</span>)</span><br></pre></td></tr></table></figure>




<pre><code>array([[1., 0., 0.],
       [0., 1., 0.],
       [0., 0., 1.]])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建一个由3个整型数组成的未初始化的数组</span></span><br><span class="line"><span class="comment"># 数组的值是内存空间中的任意值</span></span><br><span class="line">np.empty(<span class="number">3</span>)</span><br></pre></td></tr></table></figure>




<pre><code>array([1., 1., 1.])</code></pre><h1 id="NumPy-数组基础"><a href="#NumPy-数组基础" class="headerlink" title="NumPy 数组基础"></a>NumPy 数组基础</h1><ul>
<li>ndim: 数组的维度</li>
<li>shape： 数组每个维度的大小</li>
<li>size: 数组的总大小</li>
<li>dtype： 数据类型</li>
<li>itemsize： 每个数组元素字节的大小</li>
<li>nbytes：数组总字节大小<br>一般来说，可以认为 nbytes 跟 itemsize 和 size 的乘积大小相等</li>
</ul>
<p>调用方式：a.shape 即可</p>
<h2 id="多维数组切片"><a href="#多维数组切片" class="headerlink" title="多维数组切片"></a>多维数组切片</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x = np.random.randint(<span class="number">10</span>, size=(<span class="number">3</span>, <span class="number">4</span>))</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x</span><br></pre></td></tr></table></figure>




<pre><code>array([[8, 1, 0, 2],
       [2, 1, 8, 5],
       [8, 9, 7, 9]])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x[:<span class="number">2</span>,:<span class="number">3</span>] <span class="comment"># 两行，三列</span></span><br></pre></td></tr></table></figure>




<pre><code>array([[8, 1, 0],
       [2, 1, 8]])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x[:<span class="number">3</span>,::<span class="number">2</span>] <span class="comment"># 所有行，每隔一列</span></span><br></pre></td></tr></table></figure>




<pre><code>array([[8, 0],
       [2, 8],
       [8, 7]])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x[::<span class="number">-1</span>,::<span class="number">-1</span>] <span class="comment"># 逆序</span></span><br></pre></td></tr></table></figure>




<pre><code>array([[9, 7, 9, 8],
       [5, 8, 1, 2],
       [2, 0, 1, 8]])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x[:,<span class="number">0</span>] <span class="comment"># 第一列</span></span><br></pre></td></tr></table></figure>




<pre><code>array([8, 2, 8])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x[<span class="number">0</span>,:] <span class="comment"># 第一行  等价于x[0]</span></span><br></pre></td></tr></table></figure>




<pre><code>array([8, 1, 0, 2])</code></pre><ul>
<li>注： 数组切片返回的是数组数据的视图，而不是数值数据的副本。修改这个子数组，将会看到原始数组也被修改</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">x_sub = x[:<span class="number">2</span>,:<span class="number">2</span>]</span><br><span class="line">x_sub[<span class="number">0</span>,<span class="number">0</span>] = <span class="number">99</span></span><br><span class="line">print(x)</span><br></pre></td></tr></table></figure>

<pre><code>[[99  1  0  2]
 [ 2  1  8  5]
 [ 8  9  7  9]]</code></pre><p>当我们想得到副本而不是视图时，可以使用copy函数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x_sub_copy = x[:<span class="number">2</span>,:<span class="number">2</span>].copy()</span><br></pre></td></tr></table></figure>

<h2 id="数组的变形"><a href="#数组的变形" class="headerlink" title="数组的变形"></a>数组的变形</h2><p>关键:原始数组的大小必须和变形后数组的大小一致。如果满足这个条件，reshape 方法将会用到原始数组的一个非副本视图。但实际情况是，在非连续的数据缓存的情况下，返回非副本视图往往不可能实现。</p>
<p>另外一个常见的变形模式是将一个一维数组转变为二维的行或列的矩阵。你也可以通过 reshape 方法来实现，或者更简单地在一个切片操作中利用 newaxis 关键字：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">grid = np.arange(<span class="number">1</span>, <span class="number">10</span>).reshape((<span class="number">3</span>, <span class="number">3</span>))</span><br><span class="line">print(grid)</span><br></pre></td></tr></table></figure>

<pre><code>[[1 2 3]
 [4 5 6]
 [7 8 9]]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br><span class="line">x.reshape((<span class="number">1</span>,<span class="number">3</span>))</span><br></pre></td></tr></table></figure>




<pre><code>array([[1, 2, 3]])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x[np.newaxis,:]<span class="comment"># 获得行向量</span></span><br></pre></td></tr></table></figure>




<pre><code>array([[1, 2, 3]])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x.reshape((<span class="number">3</span>,<span class="number">1</span>))</span><br></pre></td></tr></table></figure>




<pre><code>array([[1],
       [2],
       [3]])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x[:,np.newaxis]<span class="comment"># 获得列向量</span></span><br></pre></td></tr></table></figure>




<pre><code>array([[1],
       [2],
       [3]])</code></pre><h2 id="数组的拼接和分裂"><a href="#数组的拼接和分裂" class="headerlink" title="数组的拼接和分裂"></a>数组的拼接和分裂</h2><h3 id="拼接"><a href="#拼接" class="headerlink" title="拼接"></a>拼接</h3><ul>
<li>np.concatenate</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">x = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line">y = np.array([<span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>])</span><br><span class="line">np.concatenate([x, y])</span><br><span class="line">z = [<span class="number">99</span>, <span class="number">99</span>, <span class="number">99</span>]</span><br><span class="line">print(np.concatenate([x, y, z]))</span><br></pre></td></tr></table></figure>

<pre><code>[ 1  2  3  3  2  1 99 99 99]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 二维数组</span></span><br><span class="line">grid = np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">                 [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]])</span><br><span class="line"><span class="comment"># 沿着第一个轴拼接</span></span><br><span class="line">np.concatenate([grid, grid])</span><br></pre></td></tr></table></figure>




<pre><code>array([[1, 2, 3],
       [4, 5, 6],
       [1, 2, 3],
       [4, 5, 6]])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 沿着第二个轴拼接（从0开始索引）</span></span><br><span class="line">np.concatenate([grid, grid], axis=<span class="number">1</span>)</span><br></pre></td></tr></table></figure>




<pre><code>array([[1, 2, 3, 1, 2, 3],
       [4, 5, 6, 4, 5, 6]])</code></pre><ul>
<li>np.vstack(垂直栈)</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">x = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line">grid = np.array([[<span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>],</span><br><span class="line">                 [<span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>]])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 垂直栈数组</span></span><br><span class="line">np.vstack([x, grid])</span><br></pre></td></tr></table></figure>




<pre><code>array([[1, 2, 3],
       [9, 8, 7],
       [6, 5, 4]])</code></pre><ul>
<li>水平栈</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">y = np.array([[<span class="number">99</span>],</span><br><span class="line">              [<span class="number">99</span>]])</span><br><span class="line">np.hstack([grid, y])</span><br></pre></td></tr></table></figure>




<pre><code>array([[ 9,  8,  7, 99],
       [ 6,  5,  4, 99]])</code></pre><p>与之类似，np.dstack 将沿着第三个维度拼接数组。</p>
<h3 id="分裂"><a href="#分裂" class="headerlink" title="分裂"></a>分裂</h3><ul>
<li>np.split</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">99</span>, <span class="number">99</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>]</span><br><span class="line">x1, x2, x3 = np.split(x, [<span class="number">3</span>, <span class="number">5</span>])<span class="comment">#索引列表记录的是分裂点位置</span></span><br><span class="line"><span class="comment">#N 分裂点会得到 N + 1 个子数组</span></span><br><span class="line">print(x1, x2, x3)</span><br></pre></td></tr></table></figure>

<pre><code>[1 2 3] [99 99] [3 2 1]</code></pre><ul>
<li>np.vsplit</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">grid = np.arange(<span class="number">16</span>).reshape((<span class="number">4</span>, <span class="number">4</span>))</span><br><span class="line">upper, lower = np.vsplit(grid, [<span class="number">2</span>])</span><br><span class="line">print(upper)</span><br><span class="line">print(lower)</span><br></pre></td></tr></table></figure>

<pre><code>[[0 1 2 3]
 [4 5 6 7]]
[[ 8  9 10 11]
 [12 13 14 15]]</code></pre><ul>
<li>np.hsplit</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">left, right = np.hsplit(grid, [<span class="number">2</span>])</span><br><span class="line">print(left)</span><br><span class="line">print(right)</span><br></pre></td></tr></table></figure>

<pre><code>[[ 0  1]
 [ 4  5]
 [ 8  9]
 [12 13]]
[[ 2  3]
 [ 6  7]
 [10 11]
 [14 15]]</code></pre><p>同样，np.dsplit 将数组沿着第三个维度分裂。</p>
<h1 id="Numpy数组的计算：通用函数"><a href="#Numpy数组的计算：通用函数" class="headerlink" title="Numpy数组的计算：通用函数"></a>Numpy数组的计算：通用函数</h1><p>使 NumPy 变快的关键是利用向量化操作，通常在 NumPy 的通用函数（ufunc）中实现。</p>
<h2 id="数组的运算"><a href="#数组的运算" class="headerlink" title="数组的运算"></a>数组的运算</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x = np.arange(<span class="number">4</span>)</span><br><span class="line"><span class="number">2</span>**x</span><br></pre></td></tr></table></figure>




<pre><code>array([1, 2, 4, 8], dtype=int32)</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">abs(-x)</span><br></pre></td></tr></table></figure>




<pre><code>array([0, 1, 2, 3])</code></pre><ul>
<li>当处理复数时，绝对值返回的是该复数的模（magnitude）</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 三角函数</span></span><br><span class="line">theta = np.linspace(<span class="number">0</span>, np.pi, <span class="number">3</span>)</span><br><span class="line">print(<span class="string">"theta      = "</span>, theta)</span><br><span class="line">print(<span class="string">"sin(theta) = "</span>, np.sin(theta))</span><br><span class="line">print(<span class="string">"cos(theta) = "</span>, np.cos(theta))</span><br><span class="line">print(<span class="string">"arctan(theta) = "</span>, np.arctan(theta))</span><br></pre></td></tr></table></figure>

<pre><code>theta      =  [0.         1.57079633 3.14159265]
sin(theta) =  [0.0000000e+00 1.0000000e+00 1.2246468e-16]
cos(theta) =  [ 1.000000e+00  6.123234e-17 -1.000000e+00]
arctan(theta) =  [0.         1.00388482 1.26262726]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 指数对数</span></span><br><span class="line">x = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">print(<span class="string">"x     ="</span>, x)</span><br><span class="line">print(<span class="string">"e^x   ="</span>, np.exp(x))</span><br><span class="line">print(<span class="string">"2^x   ="</span>, np.exp2(x))</span><br><span class="line">print(<span class="string">"3^x   ="</span>, np.power(<span class="number">3</span>, x))</span><br><span class="line">print(<span class="string">"x        ="</span>, x)</span><br><span class="line">print(<span class="string">"ln(x)    ="</span>, np.log(x))</span><br><span class="line">print(<span class="string">"log2(x)  ="</span>, np.log2(x))</span><br><span class="line">print(<span class="string">"log10(x) ="</span>, np.log10(x))</span><br></pre></td></tr></table></figure>

<pre><code>x     = [1, 2, 3]
e^x   = [ 2.71828183  7.3890561  20.08553692]
2^x   = [2. 4. 8.]
3^x   = [ 3  9 27]
x        = [1, 2, 3]
ln(x)    = [0.         0.69314718 1.09861229]
log2(x)  = [0.        1.        1.5849625]
log10(x) = [0.         0.30103    0.47712125]</code></pre><p>对于非常小的输入值可以保持较好的精度：np.expm1(x))，np.log1p(x))</p>
<h2 id="高级的通用函数特性"><a href="#高级的通用函数特性" class="headerlink" title="高级的通用函数特性"></a>高级的通用函数特性</h2><h3 id="指定输出"><a href="#指定输出" class="headerlink" title="指定输出"></a>指定输出</h3><p>在进行大量运算时，有时候指定一个用于存放运算结果的数组是非常有用的。不同于创建临时数组，你可以用这个特性将计算结果直接写入到你期望的存储位置。所有的通用函数都可以通过 out 参数来指定计算结果的存放位置：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x = np.arange(<span class="number">5</span>)</span><br><span class="line">y = np.empty(<span class="number">5</span>)</span><br><span class="line">np.multiply(x, <span class="number">10</span>, out=y)</span><br><span class="line">print(y)</span><br></pre></td></tr></table></figure>

<pre><code>[ 0. 10. 20. 30. 40.]</code></pre><p>将计算结果写入指定数组的每隔一个元素的位置：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">y = np.zeros(<span class="number">10</span>)</span><br><span class="line">z = np.zeros(<span class="number">10</span>)</span><br><span class="line">np.power(<span class="number">2</span>, x, out=y[::<span class="number">2</span>])</span><br><span class="line">z[::<span class="number">2</span>] = <span class="number">2</span> ** x</span><br><span class="line">print(y)</span><br><span class="line">print(z)</span><br></pre></td></tr></table></figure>

<pre><code>[ 1.  0.  2.  0.  4.  0.  8.  0. 16.  0.]
[ 1.  0.  2.  0.  4.  0.  8.  0. 16.  0.]</code></pre><p>如果这里写的是 <code>z[::2] = 2 ** x</code>，那么结果将是创建一个临时数组，该数组存放的是 2 ** x 的结果，并且接下来会将这些值复制到 z 数组中。对于上述例子中比较小的计算量来说，这两种方式的差别并不大。但是对于较大的数组，通过慎重使用 out 参数将能够有效节约内存。</p>
<h3 id="聚合"><a href="#聚合" class="headerlink" title="聚合"></a>聚合</h3><ul>
<li>reduce方法：对给定的元素和操作重复执行，直至得到单个的结果。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x = np.arange(<span class="number">1</span>,<span class="number">6</span>)</span><br><span class="line">np.add.reduce(x)</span><br></pre></td></tr></table></figure>




<pre><code>15</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.add.accumulate(x)<span class="comment">#储存中间变量</span></span><br></pre></td></tr></table></figure>




<pre><code>array([ 1,  3,  6, 10, 15], dtype=int32)</code></pre><h3 id="外积"><a href="#外积" class="headerlink" title="外积"></a>外积</h3><p>用 outer 方法获得两个不同输入数组所有元素对的函数运算结果。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x = np.arange(<span class="number">1</span>,<span class="number">6</span>)</span><br><span class="line">np.multiply.outer(x,x)</span><br></pre></td></tr></table></figure>




<pre><code>array([[ 1,  2,  3,  4,  5],
       [ 2,  4,  6,  8, 10],
       [ 3,  6,  9, 12, 15],
       [ 4,  8, 12, 16, 20],
       [ 5, 10, 15, 20, 25]])</code></pre><h1 id="聚合：最小值、最大值和其他值"><a href="#聚合：最小值、最大值和其他值" class="headerlink" title="聚合：最小值、最大值和其他值"></a>聚合：最小值、最大值和其他值</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">big_array = np.random.rand(<span class="number">1000000</span>)</span><br><span class="line">np.min(big_array)</span><br><span class="line"><span class="comment"># 或者</span></span><br><span class="line">print(big_array.min(), big_array.max(), big_array.sum())</span><br></pre></td></tr></table></figure>

<pre><code>4.781662075181714e-07 0.9999993314903649 500159.4600340406</code></pre><ul>
<li>注：np.min(),np.sum() 往往比python中的min(),sum() 更快</li>
</ul>
<h2 id="多维度聚合"><a href="#多维度聚合" class="headerlink" title="多维度聚合"></a>多维度聚合</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">M = np.random.random((<span class="number">3</span>, <span class="number">4</span>))</span><br><span class="line">M.sum()</span><br><span class="line">print(M)</span><br></pre></td></tr></table></figure>

<pre><code>[[0.73186364 0.81219213 0.99000414 0.72825554]
 [0.94816677 0.82588605 0.24290017 0.8000844 ]
 [0.95091721 0.49839234 0.32700048 0.12345992]]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">M.min(axis = <span class="number">0</span>) <span class="comment"># 每列最小值 axis=1 行最小资</span></span><br></pre></td></tr></table></figure>




<pre><code>array([0.73186364, 0.49839234, 0.24290017, 0.12345992])</code></pre><ul>
<li>注：axis 关键字指定的是数组将会被折叠的维度，而不是将要返回的维度。因此指定 axis=0 意味着第一个轴将要被折叠——对于二维数组，这意味着每一列的值都将被聚合。</li>
</ul>
<table>
<thead>
<tr>
<th>函数名称</th>
<th>NaN安全版</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>np.sum</td>
<td>np.nansum</td>
<td>计算元素的和</td>
</tr>
<tr>
<td>np.prod</td>
<td>np.nanprod</td>
<td>计算元素的积</td>
</tr>
<tr>
<td>np.mean</td>
<td>np.nanmean</td>
<td>计算元素的平均值</td>
</tr>
<tr>
<td>np.std</td>
<td>np.nanstd</td>
<td>计算元素的标准差</td>
</tr>
<tr>
<td>np.var</td>
<td>np.nanvar</td>
<td>计算元素的方差</td>
</tr>
<tr>
<td>np.min</td>
<td>np.nanmin</td>
<td>找出最小值</td>
</tr>
<tr>
<td>np.max</td>
<td>np.nanmax</td>
<td>找出最大值</td>
</tr>
<tr>
<td>np.argmin</td>
<td>np.nanargmin</td>
<td>找出最小值的索引</td>
</tr>
<tr>
<td>np.argmax</td>
<td>np.nanargmax</td>
<td>找出最大值的索引</td>
</tr>
<tr>
<td>np.median</td>
<td>np.nanmedian</td>
<td>计算元素的中位数</td>
</tr>
<tr>
<td>np.percentile</td>
<td>np.nanpercentile</td>
<td>计算基于元素排序的统计值</td>
</tr>
<tr>
<td>np.any</td>
<td>N/A</td>
<td>验证是否存在元素为真</td>
</tr>
<tr>
<td>np.all</td>
<td>N/A</td>
<td>验证所有元素是否为真</td>
</tr>
</tbody></table>
<h1 id="广播"><a href="#广播" class="headerlink" title="广播"></a>广播</h1><p>用于不同大小数组的二元通用函数（加、减、乘等）的一组规则。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = np.array([<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>])</span><br><span class="line">a + <span class="number">5</span></span><br></pre></td></tr></table></figure>




<pre><code>array([5, 6, 7])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">M = np.ones((<span class="number">3</span>,<span class="number">3</span>))</span><br><span class="line">M</span><br></pre></td></tr></table></figure>




<pre><code>array([[1., 1., 1.],
       [1., 1., 1.],
       [1., 1., 1.]])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">M + a</span><br></pre></td></tr></table></figure>




<pre><code>array([[1., 2., 3.],
       [1., 2., 3.],
       [1., 2., 3.]])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a = np.arange(<span class="number">3</span>)</span><br><span class="line">b = np.arange(<span class="number">3</span>)[:, np.newaxis]</span><br><span class="line"></span><br><span class="line">print(a)</span><br><span class="line">print(b)</span><br></pre></td></tr></table></figure>

<pre><code>[0 1 2]
[[0]
 [1]
 [2]]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a + b</span><br></pre></td></tr></table></figure>




<pre><code>array([[0, 1, 2],
       [1, 2, 3],
       [2, 3, 4]])</code></pre><ul>
<li>先进行相应的扩展再计算</li>
</ul>
<ol>
<li><p>如果两个数组的维度数不相同，那么小维度数组的形状将会在最左边补 1。</p>
</li>
<li><p>如果两个数组的形状在任何一个维度上都不匹配，那么数组的形状会沿着维度为 1 的维度扩展以匹配另外一个数组的形状。</p>
</li>
<li><p>如果两个数组的形状在任何一个维度上都不匹配并且没有任何一个维度等于 1，那么会引发异常。</p>
</li>
</ol>
<ul>
<li>例1</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">M = np.ones((<span class="number">2</span>,<span class="number">3</span>))</span><br><span class="line">a = np.arange(<span class="number">3</span>)</span><br><span class="line">a + M</span><br></pre></td></tr></table></figure>




<pre><code>array([[1., 2., 3.],
       [1., 2., 3.]])</code></pre><h1 id="比较、掩码和布尔逻辑"><a href="#比较、掩码和布尔逻辑" class="headerlink" title="比较、掩码和布尔逻辑"></a>比较、掩码和布尔逻辑</h1><h2 id="比较"><a href="#比较" class="headerlink" title="比较"></a>比较</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>])</span><br><span class="line">x &lt; <span class="number">3</span></span><br></pre></td></tr></table></figure>




<pre><code>array([ True,  True, False, False, False])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(<span class="number">2</span> * x) == (x ** <span class="number">2</span>)</span><br></pre></td></tr></table></figure>




<pre><code>array([False,  True, False, False, False])</code></pre><table>
<thead>
<tr>
<th>运算符</th>
<th>对应的通用函数</th>
</tr>
</thead>
<tbody><tr>
<td>==</td>
<td>np.equal</td>
</tr>
<tr>
<td>!=</td>
<td>np.not_equal</td>
</tr>
<tr>
<td>&lt;</td>
<td>np.less</td>
</tr>
<tr>
<td>&lt;=</td>
<td>np.less_equal</td>
</tr>
<tr>
<td>&gt;</td>
<td>np.greater</td>
</tr>
<tr>
<td>&gt;=</td>
<td>np.greater_equal</td>
</tr>
</tbody></table>
<h2 id="操纵布尔数组"><a href="#操纵布尔数组" class="headerlink" title="操纵布尔数组"></a>操纵布尔数组</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">rng = np.random.RandomState(<span class="number">0</span>)</span><br><span class="line">x = rng.randint(<span class="number">10</span>, size=(<span class="number">3</span>, <span class="number">4</span>))</span><br><span class="line">x</span><br></pre></td></tr></table></figure>




<pre><code>array([[5, 0, 3, 3],
       [7, 9, 3, 5],
       [2, 4, 7, 6]])</code></pre><ul>
<li>统计布尔数组中<code>true</code>纪录的个数</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment"># 有多少值小于6？</span></span><br><span class="line">np.count_nonzero(x &lt; <span class="number">6</span>)</span><br></pre></td></tr></table></figure>




<pre><code>8</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.sum(x &lt; <span class="number">6</span>)</span><br></pre></td></tr></table></figure>




<pre><code>8</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 每行有多少值小于6？</span></span><br><span class="line">np.sum(x &lt; <span class="number">6</span>, axis=<span class="number">1</span>)</span><br></pre></td></tr></table></figure>




<pre><code>array([4, 2, 2])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 有没有值大于8？</span></span><br><span class="line">np.any(x &gt; <span class="number">8</span>, axis = <span class="number">1</span>)</span><br></pre></td></tr></table></figure>




<pre><code>array([False,  True, False])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.all(x == <span class="number">6</span>)</span><br></pre></td></tr></table></figure>




<pre><code>False</code></pre><ul>
<li>确保在以上的示例中用的都是 np.sum()、np.any() 和 np.all() 函数。</li>
</ul>
<h2 id="布尔运算符"><a href="#布尔运算符" class="headerlink" title="布尔运算符"></a>布尔运算符</h2><table>
<thead>
<tr>
<th>运算符</th>
<th>对应通用函数</th>
</tr>
</thead>
<tbody><tr>
<td>&amp;</td>
<td>np.bitwise_and</td>
</tr>
<tr>
<td>|</td>
<td>np.bitwise_or</td>
</tr>
<tr>
<td>^</td>
<td>np.bitwise_xor</td>
</tr>
<tr>
<td>~</td>
<td>np.bitwise_not</td>
</tr>
</tbody></table>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.sum((x &gt; <span class="number">4</span>) &amp; (x&lt; <span class="number">7</span>))</span><br></pre></td></tr></table></figure>




<pre><code>3</code></pre><h2 id="将布尔数组作为掩码"><a href="#将布尔数组作为掩码" class="headerlink" title="将布尔数组作为掩码"></a>将布尔数组作为掩码</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x</span><br></pre></td></tr></table></figure>




<pre><code>array([[5, 0, 3, 3],
       [7, 9, 3, 5],
       [2, 4, 7, 6]])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x[x &lt; <span class="number">5</span>]</span><br></pre></td></tr></table></figure>




<pre><code>array([0, 3, 3, 3, 2, 4])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.median(x[x &lt; <span class="number">5</span>])</span><br></pre></td></tr></table></figure>




<pre><code>3.0</code></pre><h1 id="花哨的索引（fancy-indexing）"><a href="#花哨的索引（fancy-indexing）" class="headerlink" title="花哨的索引（fancy indexing）"></a>花哨的索引（fancy indexing）</h1><p>花哨的索引和前面那些简单的索引非常类似，但是传递的是索引数组，而不是单个标量。花哨的索引让我们能够快速获得并修改复杂的数组值的子数据集。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">rand = np.random.RandomState(<span class="number">42</span>)</span><br><span class="line">x = rand.randint(<span class="number">100</span>, size=<span class="number">10</span>)</span><br><span class="line">print(x)</span><br></pre></td></tr></table></figure>

<pre><code>[51 92 14 71 60 20 82 86 74 74]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ind = [<span class="number">3</span>, <span class="number">7</span>, <span class="number">4</span>]</span><br><span class="line">x[ind]</span><br></pre></td></tr></table></figure>




<pre><code>array([71, 86, 60])</code></pre><p>利用花哨的索引，结果的形状与索引数组的形状一致，而不是与被索引数组的形状一致</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ind = np.array([[<span class="number">3</span>, <span class="number">7</span>],</span><br><span class="line">                [<span class="number">4</span>, <span class="number">5</span>]])</span><br><span class="line">x[ind]</span><br></pre></td></tr></table></figure>




<pre><code>array([[71, 86],
       [60, 20]])</code></pre><ul>
<li>多维数组情况</li>
</ul>
<p>标准的索引方式一样，第一个索引指的是行，第二个索引指的是列</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">X = np.arange(<span class="number">12</span>).reshape((<span class="number">3</span>, <span class="number">4</span>))</span><br><span class="line">X</span><br></pre></td></tr></table></figure>




<pre><code>array([[ 0,  1,  2,  3],
       [ 4,  5,  6,  7],
       [ 8,  9, 10, 11]])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">row = np.array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>])</span><br><span class="line">col = np.array([<span class="number">2</span>, <span class="number">1</span>, <span class="number">3</span>])</span><br><span class="line">X[row, col]</span><br></pre></td></tr></table></figure>




<pre><code>array([ 2,  5, 11])</code></pre><p>索引遵从广播的规则，当我们将一个列向量和一个行向量组合在一个索引中时，会得到一个二维的结果</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">X[row[:, np.newaxis], col]</span><br></pre></td></tr></table></figure>




<pre><code>array([[ 2,  1,  3],
       [ 6,  5,  7],
       [10,  9, 11]])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">row[:, np.newaxis] * col</span><br></pre></td></tr></table></figure>




<pre><code>array([[0, 0, 0],
       [2, 1, 3],
       [4, 2, 6]])</code></pre><h2 id="组合索引"><a href="#组合索引" class="headerlink" title="组合索引"></a>组合索引</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">X</span><br></pre></td></tr></table></figure>




<pre><code>array([[ 0,  1,  2,  3],
       [ 4,  5,  6,  7],
       [ 8,  9, 10, 11]])</code></pre><ul>
<li>花哨索引+普通索引</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">X[<span class="number">2</span>,[<span class="number">2</span>,<span class="number">0</span>,<span class="number">1</span>]]</span><br></pre></td></tr></table></figure>




<pre><code>array([10,  8,  9])</code></pre><ul>
<li>花哨索引+切片</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">X[<span class="number">1</span>:, [<span class="number">2</span>, <span class="number">0</span>, <span class="number">1</span>]]</span><br></pre></td></tr></table></figure>




<pre><code>array([[ 6,  4,  5],
       [10,  8,  9]])</code></pre><ul>
<li>花哨索引 + 掩码</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mask = np.array([<span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>], dtype=bool)</span><br><span class="line">X[row[:, np.newaxis], mask]</span><br></pre></td></tr></table></figure>




<pre><code>array([[ 0,  2],
       [ 4,  6],
       [ 8, 10]])</code></pre><h2 id="应用：选择随机点"><a href="#应用：选择随机点" class="headerlink" title="应用：选择随机点"></a>应用：选择随机点</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mean = [<span class="number">0</span>, <span class="number">0</span>]</span><br><span class="line">cov = [[<span class="number">1</span>, <span class="number">2</span>],</span><br><span class="line">       [<span class="number">2</span>, <span class="number">5</span>]]</span><br><span class="line">X = rand.multivariate_normal(mean, cov, <span class="number">100</span>)</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">%matplotlib inline</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> seaborn; seaborn.set()  <span class="comment"># 设置绘图风格</span></span><br><span class="line"></span><br><span class="line">plt.scatter(X[:, <span class="number">0</span>], X[:, <span class="number">1</span>]);</span><br></pre></td></tr></table></figure>


<p><img src="/2020/08/08/Python/Numpy/output_149_0.png" alt="png"></p>
<p>我们将利用花哨的索引随机选取 20 个点——选择 20 个随机的、不重复的索引值，并利用这些索引值选取到原始数组对应的值</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">indices = np.random.choice(X.shape[<span class="number">0</span>], <span class="number">20</span>, replace=<span class="literal">False</span>)</span><br><span class="line">selection = X[indices]  <span class="comment"># 花哨的索引</span></span><br><span class="line">plt.scatter(X[:, <span class="number">0</span>], X[:, <span class="number">1</span>], alpha=<span class="number">0.3</span>)</span><br><span class="line">plt.scatter(selection[:, <span class="number">0</span>], selection[:, <span class="number">1</span>],</span><br><span class="line">facecolor=<span class="string">'none'</span>, edgecolor=<span class="string">'b'</span>, s=<span class="number">200</span>);</span><br></pre></td></tr></table></figure>


<p><img src="/2020/08/08/Python/Numpy/output_151_0.png" alt="png"></p>
<h1 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">x = np.array([<span class="number">2</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">5</span>])</span><br><span class="line">y = np.sort(x)<span class="comment"># 不改变x</span></span><br><span class="line">y</span><br></pre></td></tr></table></figure>




<pre><code>array([1, 2, 3, 4, 5])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x</span><br></pre></td></tr></table></figure>




<pre><code>array([2, 1, 4, 3, 5])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x.sort()<span class="comment"># 改变x</span></span><br><span class="line">x</span><br></pre></td></tr></table></figure>




<pre><code>array([1, 2, 3, 4, 5])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">x = np.array([<span class="number">2</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">5</span>])</span><br><span class="line">i = np.argsort(x)<span class="comment"># 得到索引值</span></span><br><span class="line">i</span><br></pre></td></tr></table></figure>




<pre><code>array([1, 0, 3, 2, 4], dtype=int64)</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x[i]</span><br></pre></td></tr></table></figure>




<pre><code>array([1, 2, 3, 4, 5])</code></pre><h2 id="高维情景"><a href="#高维情景" class="headerlink" title="高维情景"></a>高维情景</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">rand = np.random.RandomState(<span class="number">42</span>)</span><br><span class="line">X = rand.randint(<span class="number">0</span>, <span class="number">10</span>, (<span class="number">4</span>, <span class="number">6</span>))</span><br><span class="line">print(X)</span><br></pre></td></tr></table></figure>

<pre><code>[[6 3 7 4 6 9]
 [2 6 7 4 3 7]
 [7 2 5 4 1 7]
 [5 1 4 0 9 5]]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 对X的每一列排序</span></span><br><span class="line">np.sort(X, axis=<span class="number">0</span>)</span><br></pre></td></tr></table></figure>




<pre><code>array([[2, 1, 4, 0, 1, 5],
       [5, 2, 5, 4, 3, 7],
       [6, 3, 7, 4, 6, 7],
       [7, 6, 7, 4, 9, 9]])</code></pre><p>这种处理方式是将行或列当作独立的数组，任何行或列的值之间的关系将会丢失！</p>
<h2 id="部分排序"><a href="#部分排序" class="headerlink" title="部分排序"></a>部分排序</h2><figure class="highlight plain"><figcaption><span>函数提供了该功能。```np.partition``` 函数的输入是数组和数字 K，输出结果是一个新数组，最左边是第 K 小的值，往右是任意顺序的其他值</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;python</span><br><span class="line">x &#x3D; np.array([7, 2, 3, 1, 6, 5, 4])</span><br><span class="line">np.partition(x, 3)</span><br></pre></td></tr></table></figure>




<pre><code>array([2, 1, 3, 4, 6, 5, 7])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.partition(X, <span class="number">2</span>, axis=<span class="number">1</span>)</span><br></pre></td></tr></table></figure>




<pre><code>array([[3, 4, 6, 7, 6, 9],
       [2, 3, 4, 7, 6, 7],
       [1, 2, 4, 5, 7, 7],
       [0, 1, 4, 5, 9, 5]])</code></pre><p>输出结果是一个数组，该数组每一行的前两个元素是该行最小的两个值，每行的其他值分布在剩下的位置。</p>
<p>最后，正如 np.argsort 函数计算的是排序的索引值，也有一个 np.argpartition 函数计算的是分隔的索引值</p>
<h1 id="结构化数据：NumPy的结构化数组"><a href="#结构化数据：NumPy的结构化数组" class="headerlink" title="结构化数据：NumPy的结构化数组"></a>结构化数据：NumPy的结构化数组</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用复合数据结构的结构化数组</span></span><br><span class="line">data = np.zeros(<span class="number">4</span>, dtype=&#123;<span class="string">'names'</span>:(<span class="string">'name'</span>, <span class="string">'age'</span>, <span class="string">'weight'</span>),</span><br><span class="line">                 <span class="string">'formats'</span>:(<span class="string">'U10'</span>, <span class="string">'i4'</span>, <span class="string">'f8'</span>)&#125;)</span><br><span class="line">print(data.dtype)</span><br></pre></td></tr></table></figure>

<pre><code>[(&apos;name&apos;, &apos;&lt;U10&apos;), (&apos;age&apos;, &apos;&lt;i4&apos;), (&apos;weight&apos;, &apos;&lt;f8&apos;)]</code></pre><p>这里 U10 表示“长度不超过 10 的 Unicode 字符串”，i4 表示“4 字节（即 32 比特）整型”，f8 表示“8 字节（即 64 比特）浮点型”</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">name = [<span class="string">'Alice'</span>, <span class="string">'Bob'</span>, <span class="string">'Cathy'</span>, <span class="string">'Doug'</span>]</span><br><span class="line">age = [<span class="number">25</span>, <span class="number">45</span>, <span class="number">37</span>, <span class="number">19</span>]</span><br><span class="line">weight = [<span class="number">55.0</span>, <span class="number">85.5</span>, <span class="number">68.0</span>, <span class="number">61.5</span>]</span><br><span class="line">data[<span class="string">'name'</span>] = name</span><br><span class="line">data[<span class="string">'age'</span>] = age</span><br><span class="line">data[<span class="string">'weight'</span>] = weight</span><br><span class="line">print(data)</span><br></pre></td></tr></table></figure>

<pre><code>[(&apos;Alice&apos;, 25, 55. ) (&apos;Bob&apos;, 45, 85.5) (&apos;Cathy&apos;, 37, 68. )
 (&apos;Doug&apos;, 19, 61.5)]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data[data[<span class="string">'age'</span>] &lt; <span class="number">30</span>][<span class="string">'name'</span>]</span><br></pre></td></tr></table></figure>




<pre><code>array([&apos;Alice&apos;, &apos;Doug&apos;], dtype=&apos;&lt;U10&apos;)</code></pre><h2 id="生成结构化数组"><a href="#生成结构化数组" class="headerlink" title="生成结构化数组"></a>生成结构化数组</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">np.dtype(&#123;<span class="string">'names'</span>:(<span class="string">'name'</span>, <span class="string">'age'</span>, <span class="string">'weight'</span>),</span><br><span class="line">                  <span class="string">'formats'</span>:(<span class="string">'U10'</span>, <span class="string">'i4'</span>, <span class="string">'f8'</span>)&#125;)</span><br><span class="line"></span><br><span class="line">np.dtype(&#123;<span class="string">'names'</span>:(<span class="string">'name'</span>, <span class="string">'age'</span>, <span class="string">'weight'</span>),</span><br><span class="line">                  <span class="string">'formats'</span>:((np.str_, <span class="number">10</span>), int, np.float32)&#125;)</span><br><span class="line"></span><br><span class="line">np.dtype([(<span class="string">'name'</span>, <span class="string">'S10'</span>), (<span class="string">'age'</span>, <span class="string">'i4'</span>), (<span class="string">'weight'</span>, <span class="string">'f8'</span>)])</span><br><span class="line"></span><br><span class="line">np.dtype(<span class="string">'S10,i4,f8'</span>)</span><br></pre></td></tr></table></figure>




<pre><code>dtype([(&apos;f0&apos;, &apos;S10&apos;), (&apos;f1&apos;, &apos;&lt;i4&apos;), (&apos;f2&apos;, &apos;&lt;f8&apos;)])</code></pre><p>第一个（可选）字符是 &lt; 或者 &gt;，分别表示“低字节序”（little endian）和“高字节序”（bid endian），表示字节（bytes）类型的数据在内存中存放顺序的习惯用法。后一个字符指定的是数据的类型：字符、字节、整型、浮点型，等等。最后一个字符表示该对象的字节大小。</p>
<table>
<thead>
<tr>
<th>NumPy数据类型符号</th>
<th>描述</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td>‘b’</td>
<td>字节型</td>
<td>np.dtype(‘b’)</td>
</tr>
<tr>
<td>‘i’</td>
<td>有符号整型</td>
<td>np.dtype(‘i4’) == np.int32</td>
</tr>
<tr>
<td>‘u’</td>
<td>无符号整型</td>
<td>np.dtype(‘u1’) == np.uint8</td>
</tr>
<tr>
<td>‘f’</td>
<td>浮点型</td>
<td>np.dtype(‘f8’) == np.int64</td>
</tr>
<tr>
<td>‘c’</td>
<td>复数浮点型</td>
<td>np.dtype(‘c16’) == np.complex128</td>
</tr>
<tr>
<td>‘S’、’a’</td>
<td>字符串</td>
<td>np.dtype(‘S5’)</td>
</tr>
<tr>
<td>‘U’</td>
<td>Unicode 编码字符串</td>
<td>np.dtype(‘U’) == np.str_</td>
</tr>
<tr>
<td>‘V’</td>
<td>原生数据，raw data（空，void）</td>
<td>np.dtype(‘V’) == np.void</td>
</tr>
</tbody></table>

    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2020/08/06/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E5%8D%95%E5%8F%98%E9%87%8F%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92/" rel="prev" title="机器学习/单变量线性回归">
      <i class="fa fa-chevron-left"></i> 机器学习/单变量线性回归
    </a></div>
      <div class="post-nav-item">
    <a href="/2020/08/10/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/ex1-%E5%8D%95%E5%8F%98%E9%87%8F%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92/" rel="next" title="机器学习/ex1-单变量线性回归">
      机器学习/ex1-单变量线性回归 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#python-中的数据类型"><span class="nav-number">1.</span> <span class="nav-text">python 中的数据类型</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#列表与数组"><span class="nav-number">1.1.</span> <span class="nav-text">列表与数组</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#创建NumPy数组"><span class="nav-number">2.</span> <span class="nav-text">创建NumPy数组</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#从列表创建时数组"><span class="nav-number">2.1.</span> <span class="nav-text">从列表创建时数组</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#从头创建数组"><span class="nav-number">2.2.</span> <span class="nav-text">从头创建数组</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#NumPy-数组基础"><span class="nav-number">3.</span> <span class="nav-text">NumPy 数组基础</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#多维数组切片"><span class="nav-number">3.1.</span> <span class="nav-text">多维数组切片</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数组的变形"><span class="nav-number">3.2.</span> <span class="nav-text">数组的变形</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数组的拼接和分裂"><span class="nav-number">3.3.</span> <span class="nav-text">数组的拼接和分裂</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#拼接"><span class="nav-number">3.3.1.</span> <span class="nav-text">拼接</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#分裂"><span class="nav-number">3.3.2.</span> <span class="nav-text">分裂</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Numpy数组的计算：通用函数"><span class="nav-number">4.</span> <span class="nav-text">Numpy数组的计算：通用函数</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#数组的运算"><span class="nav-number">4.1.</span> <span class="nav-text">数组的运算</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#高级的通用函数特性"><span class="nav-number">4.2.</span> <span class="nav-text">高级的通用函数特性</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#指定输出"><span class="nav-number">4.2.1.</span> <span class="nav-text">指定输出</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#聚合"><span class="nav-number">4.2.2.</span> <span class="nav-text">聚合</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#外积"><span class="nav-number">4.2.3.</span> <span class="nav-text">外积</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#聚合：最小值、最大值和其他值"><span class="nav-number">5.</span> <span class="nav-text">聚合：最小值、最大值和其他值</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#多维度聚合"><span class="nav-number">5.1.</span> <span class="nav-text">多维度聚合</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#广播"><span class="nav-number">6.</span> <span class="nav-text">广播</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#比较、掩码和布尔逻辑"><span class="nav-number">7.</span> <span class="nav-text">比较、掩码和布尔逻辑</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#比较"><span class="nav-number">7.1.</span> <span class="nav-text">比较</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#操纵布尔数组"><span class="nav-number">7.2.</span> <span class="nav-text">操纵布尔数组</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#布尔运算符"><span class="nav-number">7.3.</span> <span class="nav-text">布尔运算符</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#将布尔数组作为掩码"><span class="nav-number">7.4.</span> <span class="nav-text">将布尔数组作为掩码</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#花哨的索引（fancy-indexing）"><span class="nav-number">8.</span> <span class="nav-text">花哨的索引（fancy indexing）</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#组合索引"><span class="nav-number">8.1.</span> <span class="nav-text">组合索引</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#应用：选择随机点"><span class="nav-number">8.2.</span> <span class="nav-text">应用：选择随机点</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#排序"><span class="nav-number">9.</span> <span class="nav-text">排序</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#高维情景"><span class="nav-number">9.1.</span> <span class="nav-text">高维情景</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#部分排序"><span class="nav-number">9.2.</span> <span class="nav-text">部分排序</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#结构化数据：NumPy的结构化数组"><span class="nav-number">10.</span> <span class="nav-text">结构化数据：NumPy的结构化数组</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#生成结构化数组"><span class="nav-number">10.1.</span> <span class="nav-text">生成结构化数组</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">luyilin</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">46</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">luyilin</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

  

</body>
</html>
